---
title: 力扣算法题2-打家劫舍-草稿
date: 2023-02-23
tags: Javascript
---

## 题目
https://leetcode.cn/problems/house-robber-iv/

## 解法
初步思路是先获取窃取房屋的组合情况、再取得每一个组合的最高金额、再拿到所有最高金额中最小值。

```javascript
var minCapability = function (nums, k) {
  if (k === 1) return Math.min(...nums);
  // 1、窃取房屋的组合情况
  function getNextIndex(index, count, number) {
    // 如果后边的房间不满足窃取规则，不做任何操作
    if (nums.length - index - 1 < 2 * (k - count)) return;
    if (k === count + 1) {
      // 如果是最后一个可窃取的房间，那么拿到后边房间都可以成为组合，返回最小值即可
      if (index + 2 === nums.length - 1) return Math.min(number, nums[index + 2]);
      return Math.min(number, Math.min(...nums.slice(index + 2)));
    }
    // 3、返回最高金额列表中的最小值
    return Math.min(
      ...nums
        .slice(index + 2)
        .map((sec, secIdx) => {
          // 2、拿到组合中最高金额
          return getNextIndex(index + 2 + secIdx, count + 1, Math.max(number, sec));
        })
        .filter((v) => v)
    );
  }
  // 3、返回最高金额列表中的最小值
  return Math.min(...nums.map((item, index) => getNextIndex(index, 1, item)).filter((v) => v));
};
```

测试一下，好使。

```javascript
// minCapability([5038,3053,2825,3638,4648,3259,4948,4248,4940,2834,109,5224,5097,4708,2162,3438,4152,4134,551,3961,2294,3961,1327,2395,1002,763,4296,3147,5069,2156,572,1261,4272,4158,5186,2543,5055,4735,2325,1206,1019,1257,5048,1563,3507,4269,5328,173,5007,2392,967,2768,86,3401,3667,4406,4487,876,1530,819,1320,883,1101,5317,2305,89,788,1603,3456,5221,1910,3343,4597], 28)
```
但是太慢，leetCode 还是过不去！
// TODO 未完待续

```javascript
/**
 * 思路：
 * 第一步：先找到所有的组合情况
 * 第二步：拿到每一组中最高的数字，形成新的数组
 * 第三步：拿到新数组中最低的数字
 * 
 * 例如有10个元素，取3家，组合有：
 * - 0-2-4~10/0~1-3-5~10/0~2-4-6~10/0~3-5-7~10/0~4-6-8~10/0~5-7-9~10/0~6-8-10
 * 例如有10个元素，取4家，组合有：
 * - 0-2-4-6~10
 * - 0-2-5-7~10/0~1-3-5-7~10/  
 * - 0-2-6-8~10/0~1-3-6-8~10/0~2-4-6-8~10/
 * - 0-2-7-9~10/0~1-3-7-9~10/0~2-4-7-9~10/0~3-5-7-9~10
 * - 0-2-8-10  /0~1-3-8-10  /0~2-4-8-10  /0~3-5-8-10  /0~4-6-8-10
 * 例如有10个元素，取5家，组合有：
 * - 0-2-4-6-8~10
 * - 0-2-4-7-9~10/0-2~3-5-7-9~10/0~1-3-5-7-9~10
 * - 0-2-4-8-10  /0-2~3-5-8-10  /0~1-3-5-8-10  /0-2~4-6-8-10  /0~2-4-6-8-10
 */
var minCapability = function (nums, k) {
  if (k === 1) return Math.min(...nums);
  nums.forEach((item, index) => {
    
  })
}
```

