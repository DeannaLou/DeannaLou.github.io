<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>position 定位 | Deannalou</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="在学习 position 之前，先来看一下几个适用于所有 css 属性的值： inherit、initial、unset、revert、all initial、inherit、unset、revert 与 all 关键字initial 指定设置为默认值默认值列表存在 css 的属性汇总里(这个表网上没有找到资料，猜想和设备与浏览器也有关系，例如 font-family 根据不同浏览器和设备而定，p">
<meta property="og:type" content="article">
<meta property="og:title" content="position 定位">
<meta property="og:url" content="http://deannalou.github.io/2019/06/19/position/index.html">
<meta property="og:site_name" content="Deannalou">
<meta property="og:description" content="在学习 position 之前，先来看一下几个适用于所有 css 属性的值： inherit、initial、unset、revert、all initial、inherit、unset、revert 与 all 关键字initial 指定设置为默认值默认值列表存在 css 的属性汇总里(这个表网上没有找到资料，猜想和设备与浏览器也有关系，例如 font-family 根据不同浏览器和设备而定，p">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/5370440-7262d45fdea6cc21.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/5370440-23009150206d9218.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/5370440-4bd466d758a8a05c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2019-06-19T06:05:05.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="position 定位">
<meta name="twitter:description" content="在学习 position 之前，先来看一下几个适用于所有 css 属性的值： inherit、initial、unset、revert、all initial、inherit、unset、revert 与 all 关键字initial 指定设置为默认值默认值列表存在 css 的属性汇总里(这个表网上没有找到资料，猜想和设备与浏览器也有关系，例如 font-family 根据不同浏览器和设备而定，p">
<meta name="twitter:image" content="https://upload-images.jianshu.io/upload_images/5370440-7262d45fdea6cc21.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
  
    <link rel="alternate" href="/atom.xml" title="Deannalou" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Deannalou</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://deannalou.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-position" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/19/position/" class="article-date">
  <time datetime="2019-06-19T04:50:57.000Z" itemprop="datePublished">2019-06-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      position 定位
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在学习 position 之前，先来看一下几个适用于所有 css 属性的值： inherit、initial、unset、revert、all</p>
<h1 id="initial、inherit、unset、revert-与-all-关键字"><a href="#initial、inherit、unset、revert-与-all-关键字" class="headerlink" title="initial、inherit、unset、revert 与 all 关键字"></a>initial、inherit、unset、revert 与 all 关键字</h1><h2 id="initial-指定设置为默认值"><a href="#initial-指定设置为默认值" class="headerlink" title="initial 指定设置为默认值"></a>initial 指定设置为默认值</h2><p>默认值列表存在 css 的属性汇总里(这个表网上没有找到资料，猜想和设备与浏览器也有关系，例如 font-family 根据不同浏览器和设备而定，position 默认 “static”，color 默认 “#000” 等)。</p>
<p>PS：initial 在 IE11 下不兼容</p>
<blockquote>
<p>postion: initial;<br>color: initial;<br>width: inital;<br>// other properties…</p>
</blockquote>
<h2 id="inherit-指定继承父节点的该属性"><a href="#inherit-指定继承父节点的该属性" class="headerlink" title="inherit 指定继承父节点的该属性"></a>inherit 指定继承父节点的该属性</h2><blockquote>
<p>所有 css 属性的 inheritance 都被设置为 “yes” 或者 “no”，“yes” 表示继承， “no” 表示不继承。</p>
</blockquote>
<p>inherit 允许用户去手动把 inheritance 置为 “yes”。</p>
<p>1）根元素会被默认设置 initial 的值，如果属性是inheritance = “yes”的话，会去找父节点的属性值，例如 color 等。</p>
<p>对此类属性设置 inherit 的话，它的父节点如果未设值，那么父节点会继承祖父节点的值，如果都未设置，最终找到根节点的 initial。</p>
<p>2）inheritance = “no” 的属性会被默认设置为 initial 的值，例如 width、border、position 等。</p>
<p>对此类属性设置 inherit 的话，它的父节点如果未设值，那么父节点会默认 initial 的值，也就是说它要么继承了父节点设置的值要么 initial。</p>
<blockquote>
<p>postion: inherit;<br>color: inherit;<br>width: inherit;<br>// other properties…</p>
</blockquote>
<h2 id="unset-：initial-与-inherit-的结合"><a href="#unset-：initial-与-inherit-的结合" class="headerlink" title="unset ：initial 与 inherit 的结合"></a>unset ：initial 与 inherit 的结合</h2><p>如果该属性的inheritance = “yes” 的话，就使用 inherit 继承，inheritance = “no” 就使用 initial 默认值。</p>
<p>注意：unset 与直接不设是不同的，如果不设，那么它会有一个优先级的判断（在 1.4 中会提到这个优先级），例如 div 上设置了 color1，父元素上也设置了 color2，这个 div 会使用 color1，而不是直接继承父元素的 color2。</p>
<blockquote>
<p>postion: unset;<br>color: unset;<br>width: unset;<br>// other properties…</p>
</blockquote>
<h2 id="revert-：指定恢复-user-agent-的设置"><a href="#revert-：指定恢复-user-agent-的设置" class="headerlink" title="revert ：指定恢复 user-agent 的设置"></a>revert ：指定恢复 user-agent 的设置</h2><p>UA（user-agent）是浏览器给定的用户代理样式表，优先级比较低，继承(只作用与inheritance = “yes” 的属性) &lt; UA &lt; 用户样式表 &lt; 内联样式，如图：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/5370440-7262d45fdea6cc21.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="内联样式"></p>
<p>revert 与 initial 是不同的，display 的 initial 默认值是 inline，而 UA 把 div 标签 display 定义为 block，revert 指定恢复到 UA 的设置。</p>
<p>如果设置为 revert 的属性在 UA 中未被设值的话，属性的行为与 unset 一致。</p>
<p>注意：据官网数据，目前 Chrome 与 FF 都不支持，safari 9.1+ 支持，其他浏览器待验证。</p>
<blockquote>
<p>display: revert;<br>// other properties…</p>
</blockquote>
<h2 id="all-属性"><a href="#all-属性" class="headerlink" title="all 属性"></a>all 属性</h2><p>all 用来重设除了unicode-bidi和direction之外的所有属性至它们的 initial 或 inherit 值。可选值为 initial，inherit，unset，revert。</p>
<blockquote>
<p>all: initial;<br>all: inherit;<br>all: unset;<br>all: revert;<br>// other properties…</p>
</blockquote>
<p>all 设置为 inherit 后，给这个元素设置的其他优先级更高（加 !important、内联样式或在all:inherit之后设置）的属性都进行覆盖。例如下图，font-size 会继承，而 height、width 等都会生效。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/5370440-23009150206d9218.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="inherit"></p>
<p>all 设置为 initial 后，官网给的说法是设置为初始值，优先级更高的属性理应和 inherit 一样被覆盖掉，但实际的效果却有一点奇怪，给这个元素设置的其他优先级更高的大多属性都可进行覆盖，margin-top，margin-bottom 在 safari、chrome 下不占位、ff 表现正常，width、height 不能覆盖。但 margin-top、margin-bottom、width、height在绝对定位（absolute 或 fixed）下可正常显示或覆盖。</p>
<p>all 设置为 unset 后，与 initial 一样，margin-top、margin-bottom、width、height 表现奇怪，但在绝对定位下可正常显示或覆盖。另外 safari 中，color 属性在绝对定位下也不可以正常的覆盖。</p>
<p>all 的 revert 属性，会把用户设置的属性重设为 UA 表中设置的属性，但在safari 9+的浏览器上，color 属性不可以正常的覆盖，在绝对定位下也不可以。</p>
<h2 id="postion"><a href="#postion" class="headerlink" title="postion"></a>postion</h2><blockquote>
<p>postion 属性支持以下值：<br>position: static;  // position 的默认值<br>position: relative;<br>position: absolute;<br>position: fixed;<br>position: sticky; // 这个属性在实验阶段，兼容性比较差: IE/opera 不支持，FF 32+，chrome 56+，Safari 6.1+）</p>
</blockquote>
<p>一个定位元素是指 postion 被计算为relative,absolute,fixed或sticky的一个元素。（注意：元素如果设置了<strong>非 none 的 transform 属性</strong>，那么它就变成了定位元素）</p>
<p>相对定位元素：被计算为 relative 的元素，</p>
<p>绝对定位元素（这是官方的说法，不同于我之前以为的区分绝对定位和固定定位）：被计算为 absolute 或 fixed 的元素，</p>
<p>粘性定位元素：被计算为 sticky 的元素。</p>
<p>偏移 top、bottom、left、right 只对定位元素有效。</p>
<h3 id="static"><a href="#static" class="headerlink" title="static"></a>static</h3><p>static 是默认定位，即 initial 所指定的 position 的值，此时偏移值 和z-index 都无效。</p>
<h3 id="relative"><a href="#relative" class="headerlink" title="relative"></a>relative</h3><p>relative 是相对定位，relative 会根据它的大小给它留出固定的空间，再去做它的偏移，也就是说 relative 的偏移是在它固定留白的基础上做的，并且偏移后并不会改变它的留白和大小。</p>
<p>position：relative未定义在table-*-group, table-row, table-column, table-cell, table-caption 元素上的效果。</p>
<h3 id="absolute"><a href="#absolute" class="headerlink" title="absolute"></a>absolute</h3><p>absolute 是绝对定位，不会为元素预留空间，它相对于最近的祖先定位元素来定位，可以设置margin，并且不会被合并（相邻元素的margin-top 和 margin-bottom总是会被合并）。</p>
<h3 id="fixed"><a href="#fixed" class="headerlink" title="fixed"></a>fixed</h3><p>fixed 是绝对定位，与 absolute 很像，只是它相对于屏幕视口 viewport 来定位，屏幕滚动的时候元素位置不变。</p>
<h3 id="sticky：relative-与-fixed-的结合"><a href="#sticky：relative-与-fixed-的结合" class="headerlink" title="sticky：relative 与 fixed 的结合"></a>sticky：relative 与 fixed 的结合</h3><p>sticky 必须设置了偏移量（相对于屏幕视口） top/left/bottom/right 才生效，否则就和 relative 同效。在滚动到该偏移量时，采用 fixed 的定位，但当往下滚动到该元素的底部与父节点的内容（不包括 padding、margin、padding）的底部相重叠、或者往上滚动到该元素在 relative 布局下相对于父元素所在位置时，快照它当前的偏移位置，并采用 relative 定位。</p>
<p>sticky可以用来做首字母搜索，A标题的区域内容显示时，A标题一直固定在顶部，屏幕滚动到 B区域内容时，B标题代替A一直固定在顶部。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/5370440-4bd466d758a8a05c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="sticky"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://deannalou.github.io/2019/06/19/position/" data-id="cjx2u5oul00000u9k6kfs50jw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/02/21/BFC/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          css 渲染层
        
      </div>
    </a>
  
  
    <a href="/2018/08/20/DNS/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">从键入 URL 到页面渲染都经历了什么</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/02/23/mongodb/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/02/23/leetCode_coin/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/02/01/health/">减肥四步法</a>
          </li>
        
          <li>
            <a href="/2023/02/01/cookbook/">菜单炒一本</a>
          </li>
        
          <li>
            <a href="/2020/08/01/Promise/">手写 Promise</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Deannalou<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>